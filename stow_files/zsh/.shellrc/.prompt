#!/bin/zsh
####################
## Colors
####################
# Reset
Color_Off="%b%f"       # Text Reset

# Regular Colors
Black="%F{black}"    # Black
Red="%F{red}"        # Red
Green="%F{green}"    # Green
Yellow="%F{yellow}"  # Yellow
Blue="%F{blue}"      # Blue
Purple="%F{magenta}"  # Purple
Cyan="%F{cyan}"      # Cyan
White="%F{white}"    # White

# Bold
BBlack="%B%F{black}"    # Black
BRed="%B%F{red}"        # Red
BGreen="%B%F{green}"    # Green
BYellow="%B%F{yellow}"  # Yellow
BBlue="%B%F{blue}"      # Blue
BPurple="%B%F{magenta}"  # Purple
BCyan="%B%F{cyan}"      # Cyan
BWhite="%B%F{white}"    # White

####################
## Human readable variables
####################
User="$USER"
Hostname="$HOST"
PathShort="[%~]"
PathFull="%/"

####################
## Prompt setup
####################

# Git
####################
autoload -Uz add-zsh-hook vcs_info
setopt prompt_subst
add-zsh-hook precmd vcs_info

zstyle ':vcs_info:*' check-for-changes true
zstyle ':vcs_info:*' stagedstr "$Yellow"
zstyle ':vcs_info:*' unstagedstr "$Red"
zstyle ':vcs_info:*' formats "$Green%u%c{󰘬 %b} "
zstyle ':vcs_info:*' actionformats "$Purple%u%c{󰘬 %b|%a} "

# Venv
####################
function set_virtualenv_info() {
	if [[ -n $VIRTUAL_ENV ]]; then
		venv_info="$BYellow "
	else
		venv_info=""
	fi
}
export VIRTUAL_ENV_DISABLE_PROMPT=1
add-zsh-hook precmd set_virtualenv_info

export PROMPT="$BPurple$PathShort%f "$'\n'"\${venv_info}$BYellow\${vcs_info_msg_0_}$BCyan%f "
#export PROMPT='$venv_info$Cyan$User$Red@$Purple$Hostname$White:$BCyan$PathShort$BYellow${vcs_info_msg_0_}%f '
